--trigger de historico da br
CREATE TRIGGER TG_HBR
BEFORE UPDATE OR DELETE ON BR
FOR EACH ROW
BEGIN
	INSERT INTO HBR  VALUES (:OLD.BR_ID, :OLD.BR_COD, SYSDATE);
END;
/

--trigger de historico da causa_acidente
CREATE TRIGGER TG_HCAUSA_ACIDENTE
BEFORE UPDATE OR DELETE ON CAUSA_ACIDENTE
FOR EACH ROW
BEGIN
	INSERT INTO HCAUSA_ACIDENTE  VALUES (:OLD.CAU_ID, :OLD.CAU_NOME, SYSDATE);
END;
/

--trigger de historico da causa_acidente
CREATE TRIGGER TG_HCLASSIFICACAO_ACIDENTE
BEFORE UPDATE OR DELETE ON CLASSIFICACAO_ACIDENTE
FOR EACH ROW
BEGIN
	INSERT INTO HCLASSIFICACAO_ACIDENTE  VALUES (:OLD.CLA_ID, :OLD.CLA_NOME, SYSDATE);
END;
/

--trigger de historico da clima
CREATE TRIGGER TG_HCLIMA
BEFORE UPDATE OR DELETE ON CLIMA
FOR EACH ROW
BEGIN
	INSERT INTO HCLIMA  VALUES (:OLD.CLM_ID, :OLD.CLM_NOME, SYSDATE);
END;
/

--trigger de historico da delegacia
CREATE TRIGGER TG_HDELEGACIA
BEFORE UPDATE OR DELETE ON DELEGACIA
FOR EACH ROW
BEGIN
	INSERT INTO HDELEGACIA  VALUES (:OLD.DLG_ID, :OLD.DLG_COD, :OLD.DLG_SED_ID, SYSDATE);
END;
/

--Trigger de historico de estados
CREATE TRIGGER TG_HESTADOS
BEFORE UPDATE OR DELETE ON ESTADOS
FOR EACH ROW
BEGIN
	INSERT INTO HESTADOS  VALUES (:OLD.EST_ID, :OLD.EST_SIGLA, SYSDATE);
END;
/

--Trigger de historico de localidades
CREATE TRIGGER TG_HLOCALIDADES
BEFORE UPDATE OR DELETE ON LOCALIDADES
FOR EACH ROW
BEGIN
	INSERT INTO HLOCALIDADES  VALUES (:OLD.LOC_ID, :OLD.LOC_KM, :OLD.LOC_LATITUDE, :OLD.LOC_LONGITUDE, :OLD.LOC_BR_ID, :OLD.LOC_EST_ID,SYSDATE);
END;
/

--Trigger de historico de ocorrencias
CREATE TRIGGER TG_HOCORRENCIA
BEFORE UPDATE OR DELETE ON OCORRENCIA
FOR EACH ROW
BEGIN
	INSERT INTO HOCORRENCIA  VALUES (
        :OLD.OCR_ID, 
        :OLD.OCR_TOTAL_ENVOLVIDOS, 
        :OLD.OCR_MORTOS, 
        :OLD.OCR_FERIDOS_LEVES, 
        :OLD.OCR_FERIDOS_GRAVES, 
        :OLD.OCR_ILESOS, 
        :OLD.OCR_IGNORADOS, 
        :OLD.OCR_TOTAL_FERIDOS,
        :OLD.OCR_VEICULOS,
        :OLD.OCR_DIA,
        :OLD.OCR_DIA_SEMANA,
        :OLD.OCR_HORARIO,
        :OLD.OCR_CLA_ID,
        :OLD.OCR_STV_ID,
        :OLD.OCR_CLM_ID,
        :OLD.OCR_USL_ID,
        :OLD.OCR_TPS_ID,
        :OLD.OCR_TRV_ID,
        :OLD.OCR_UOP_ID,
        :OLD.OCR_TIP_ID,
        :OLD.OCR_LOC_ID,
        SYSDATE);
END;
/

--Trigger de historico de sede
CREATE TRIGGER TG_HSEDE
BEFORE UPDATE OR DELETE ON SEDE
FOR EACH ROW
BEGIN
	INSERT INTO HSEDE  VALUES (:OLD.SED_ID, :OLD.SED_NOME, :OLD.SED_EST_ID, SYSDATE);
END;
/


--Trigger de historico de sentido da via
CREATE TRIGGER TG_HSENTIDO_VIA
BEFORE UPDATE OR DELETE ON SENTIDO_VIA
FOR EACH ROW
BEGIN
	INSERT INTO HSENTIDO_VIA  VALUES (:OLD.STV_ID, :OLD.STV_NOME,SYSDATE);
END;
/

--Trigger de historico de tipo de acidente
CREATE TRIGGER TG_HTIPO_ACIDENTE
BEFORE UPDATE OR DELETE ON TIPO_ACIDENTE
FOR EACH ROW
BEGIN
	INSERT INTO HTIPO_ACIDENTE  VALUES (:OLD.TIP_ID, :OLD.TIP_NOME, :OLD.TIP_CAU_ID,SYSDATE);
END;
/

--Trigger de historico de tipo de pista
CREATE TRIGGER TG_HTIPO_PISTA
BEFORE UPDATE OR DELETE ON TIPO_PISTA
FOR EACH ROW
BEGIN
	INSERT INTO HTIPO_PISTA  VALUES (:OLD.TPS_ID, :OLD.TPS_NOME, SYSDATE);
END;
/

--Trigger de historico de tracado do via
CREATE TRIGGER TG_HTRACADO_VIA
BEFORE UPDATE OR DELETE ON TRACADO_VIA
FOR EACH ROW
BEGIN
	INSERT INTO HTRACADO_VIA  VALUES (:OLD.TRV_ID, :OLD.TRV_NOME, SYSDATE);
END;
/

--Trigger de historico de unidade do operacional
CREATE TRIGGER TG_HUNIDADE_OPERACIONAL
BEFORE UPDATE OR DELETE ON UNIDADE_OPERACIONAL
FOR EACH ROW
BEGIN
	INSERT INTO HUNIDADE_OPERACIONAL  VALUES (:OLD.UOP_ID, :OLD.UOP_COD, :OLD.UOP_DLG_ID, SYSDATE);
END;
/